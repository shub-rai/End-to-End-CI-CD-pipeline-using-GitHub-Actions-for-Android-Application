name: Test Self-Hosted Runner

on:
  push:
    branches:
      - main # Or whatever branch you are working on
  workflow_dispatch: # Allows you to manually trigger it

jobs:
  run-on-self-hosted:
    name: Run on my EC2 Runner

    # This is the key:
    runs-on: self-hosted 

    steps:
    - name: Check IP
      run: |
        echo "This job is running on a self-hosted runner!"
        echo "My IP address is:"
        curl https://api.ipify.org

    - name: Check internal connectivity (Example)
      run: |
        echo "Pinging the Jenkins server's private IP..."
        # Replace with your Jenkins server's private IP
        ping -c 3 172.31.92.117
